(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a5029b1a"],{"1b24":function(t,s,i){},"25bd":function(t,s,i){"use strict";i("77d7")},"385d":function(t,s,i){},"4b13":function(t,s,i){},7277:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"dashboard"},[s("div",{staticClass:"dashboard-title"},[s("h2",[t._v("数据统计（前七日）")]),t.isSampleMode?s("div",{staticClass:"warning",class:{close:!t.warningIsSHow}},[s("svg-icon",{attrs:{"icon-class":"icon-warning"}}),s("p",{staticClass:"warning-info"},[t._v(" 当前展示的是示例数据，您的数据统计将在您使用一段时间后生成。 ")]),s("div",{staticClass:"close",on:{click:function(s){t.warningIsSHow=!1}}},[s("svg-icon",{attrs:{"icon-class":"icon-close"}})],1)],1):t._e()]),s("todo-chart",{ref:"chart"}),s("analysis-model"),s("data-report")],1)},o=[],a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"todo-chart"},[s("div",{staticClass:"title"},[s("p",[t._v("共设置")]),s("span",[t._v(t._s(t.isSampleMode?28:t.todoTotal))]),s("p",[t._v("项待办，共完成")]),s("span",[t._v(t._s(t.isSampleMode?23:t.todoTotalCompleted))]),s("p",[t._v("项")])]),s("div",{staticClass:"svg-box",style:t.svgBoxWidth},[s("svg",{staticClass:"svg",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:t.viewBox,width:t.viewWidth,height:"440px"}},[s("defs",[s("linearGradient",{attrs:{id:"l1",x1:"0%",y1:"0%",x2:"0",y2:"100%"}},[s("stop",{attrs:{offset:"0%",id:"stop1"}}),s("stop",{attrs:{offset:"100%",id:"stop2"}})],1),s("filter",{attrs:{id:"blur"}},[s("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:"8"}})],1)],1),s("path",{staticStyle:{fill:"url(#l1)"},attrs:{d:t.path}}),s("path",{attrs:{id:"border",d:t.path}}),t._l(t.points,(function(i){return s("g",{directives:[{name:"show",rawName:"v-show",value:t.visiblePoint==i,expression:"visiblePoint == p"}],key:i},[s("circle",{attrs:{id:"shadow",cx:t.pX[i],cy:t.pY[i],r:"14"}}),s("circle",{staticStyle:{fill:"rgba(255, 255, 255, 0.83)"},attrs:{cx:t.pX[i],cy:t.pY[i],r:"14"}}),s("circle",{attrs:{id:"m-circle",cx:t.pX[i],cy:t.pY[i],r:"7"}})])}))],2)]),s("div",{staticClass:"date",style:t.svgBoxWidth},t._l(t.date,(function(i,e){return s("p",{key:e},[t._v(t._s(i))])})),0),s("div",{staticClass:"hover",style:t.svgBoxWidth},t._l(t.hoverBox,(function(i){return s("div",{key:i.id,staticClass:"hover-li",on:{mouseover:function(s){return t.setVisible(i.id)},mouseleave:function(s){return t.clearVisible()}}})})),0)])},l=[];i("c619");const r={data(){return{today:{year:this.dayjs().year(),month:this.dayjs().month(),day:this.dayjs().date()},todoNumber:[0,0,0,0,0,0,0,0,0],todoNumberCompleted:[0,0,0,0,0,0,0,0,0]}},computed:{isSampleMode(){return this.todoNumberCompleted[6]<1&&this.todoNumberCompleted[7]<1},todoListsAll(){return this.$store.state.todoListsAll},clockInAll(){return this.$store.state.clockInAll},pastSevenDays(){let t=[];const s=this.dayjs(this.today).valueOf();for(let i=0;i<9;i++)t[i]=s-864e5*(8-i);return t},todoTotal(){let t=0;return this.todoNumber.map(s=>t+=s),t},todoTotalCompleted(){let t=0;return this.todoNumberCompleted.map(s=>t+=s),t}},methods:{removePastDaysTimestamp(){this.$store.commit("removePastDaysTimestamp",this.dayjs(this.today).valueOf()-6912e5)}},mounted(){for(let t=0;t<9;t++){let s=this.todoListsAll.filter(s=>s.timestamp==this.pastSevenDays[t]);this.todoNumber.splice(t,0,s.length);let i=s.filter(t=>t.isComplete);this.todoNumberCompleted.splice(t,0,i.length)}}};var n=r,h={mixins:[n],name:"TodoChart",data(){return{screenWidth:document.body.clientWidth,xCoordParm:1,pX:[0,0,0,0,0,0,0,0,0],pY:[0,0,0,0,0,0,0,0,0],visiblePoint:"0"}},computed:{date(){let t=[];for(let s=7;s>0;s--)t.push(this.dayjs().month()+1+"/"+(this.dayjs().date()-s));return t},points(){let t=[];for(let s=1;s<=7;s++)t.push(s);return t},hoverBox(){let t=[];for(let s=0;s<7;s++)t[s]={},t[s].id=s;return t},visibleData(){return this.isSampleMode?[2,1,4,3,6,2,3,2,0]:this.todoNumberCompleted},rowHeight(){let t=Math.max(...this.visibleData);return parseInt(328/t)},viewBox(){return`0 -440 ${this.viewWidth} 440`},viewWidth(){return 736*this.xCoordParm},svgBoxWidth(){return{width:644*this.xCoordParm/16+"rem"}},path(){return`M ${this.pX[0]} ${this.pY[0]}\n          C ${this.pX[0]+50} ${this.pY[0]}, ${this.pX[1]-50} ${this.pY[1]}, ${this.pX[1]} ${this.pY[1]}\n          S ${this.pX[1]+50} ${this.pY[2]}, ${this.pX[2]} ${this.pY[2]}\n          S ${this.pX[2]+50} ${this.pY[3]}, ${this.pX[3]} ${this.pY[3]}\n          S ${this.pX[3]+50} ${this.pY[4]}, ${this.pX[4]} ${this.pY[4]}\n          S ${this.pX[4]+50} ${this.pY[5]}, ${this.pX[5]} ${this.pY[5]}\n          S ${this.pX[5]+50} ${this.pY[6]}, ${this.pX[6]} ${this.pY[6]}\n          S ${this.pX[6]+50} ${this.pY[7]}, ${this.pX[7]} ${this.pY[7]}\n          S ${this.pX[7]+50} ${this.pY[8]}, ${this.pX[8]} ${this.pY[8]}`}},methods:{setVisible(t){this.visiblePoint=t+1},clearVisible(){this.visiblePoint=0}},watch:{screenWidth:{immediate:!0,handler:function(t){if(t<1152){this.xCoordParm=1;for(let t=0;t<9;t++)this.pX.splice(t,1,92*this.xCoordParm*t)}else if(t>=1152&&t<1280){this.xCoordParm=1.15;for(let t=0;t<9;t++)this.pX.splice(t,1,92*this.xCoordParm*t)}else if(t>=1280){this.xCoordParm=1.3;for(let t=0;t<9;t++)this.pX.splice(t,1,92*this.xCoordParm*t)}}}},mounted(){for(let s=0;s<9;s++)this.pX.splice(s,0,parseInt(92*this.xCoordParm*s*100)/100),this.pY.splice(s,0,-1*(98+this.rowHeight*this.visibleData[s]));const t=this;window.addEventListener("resize",(function(){return(()=>{window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth})()}))}},d=h,p=(i("bfcb"),i("e607")),c=Object(p["a"])(d,a,l,!1,null,"a0e039d8",null),m=c.exports,v=function(){var t=this,s=t._self._c;return s("div",{staticClass:"analysis-model"},[s("h6",[t._v("时间掌控程度评估")]),s("div",{staticClass:"anonymous"},[s("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 266 266",x:"0px",y:"0px"}},[s("path",{attrs:{d:"M 133 0 L 19 199 L 246 199 Z"}}),s("path",{attrs:{d:"M 133 22 L 38 188 L 227 188 Z"}}),s("path",{attrs:{d:"M 133 44 L 57 177 L 209 177 Z"}}),s("path",{attrs:{d:"M 133 66 L 76 166 L 190 166 Z"}}),s("path",{attrs:{d:"M 133 88 L 95 155 L 171 155 Z"}}),s("path",{attrs:{d:"M 133 110 L 114 144 L 152 144 Z"}}),s("path",{attrs:{id:"hlight",d:t.path}})]),s("span",[t._v("勤奋")]),s("span",[t._v("一般")]),s("span",[t._v("懒惰")])]),s("p",{staticClass:"text"},[s("span",{staticClass:"i"},[t._v(t._s(t.levelPercentage+"%"))]),t._v("的时间你在 "+t._s(t.visibleText)+" 中度过"),s("br"),t._v("加油，我们在山顶见 ")])])},u=[],b={mixins:[n],name:"AnalysisModel",data(){return{topY:["133","110","88","66","44","22","0"],bottomLeftX:["133","114","95","76","57","38","19"],bottomRigthX:["133","152","171","190","209","227","246"],bottomY:["133","144","155","166","177","188","199"],ratio:[],visibleL3Y:0,visibleL2X:0,visibleL2Y:0,visibleL1X:0,visibleL1Y:0}},computed:{level3(){return this.ratio.filter(t=>t>=.8).length},level2(){return this.ratio.filter(t=>t>=.5&&t<.8).length},level1(){return this.ratio.filter(t=>t<.5).length},max(){let t=[this.level3,this.level2,this.level1];return Math.max(...t)},levelPercentage(){return this.isSampleMode?57:parseInt(this.max/this.ratio.length*100)},visibleText(){let t="",s=0;for(let e of this.ratio)s+=e;let i=s/this.ratio.length;return this.isSampleMode?t="一般":i<.5?t="懒惰":i>=.5&&this.max<.8?t="一般":i>=.8&&(t="勤奋"),t},path(){return`M 133 ${this.visibleL3Y} L ${this.visibleL2X} ${this.visibleL2Y} L ${this.visibleL1X} ${this.visibleL1Y} Z`}},mounted(){for(let t=1;t<=7;t++)if(0!==this.todoNumber[t]){let s=Math.floor(this.todoNumberCompleted[t]/this.todoNumber[t]*100)/100;this.ratio.splice(t-1,0,s)}else this.ratio.splice(t-1,0,0);this.visibleL3Y=this.isSampleMode?"88":this.topY[this.level3],this.visibleL2X=this.isSampleMode?"76":this.bottomLeftX[this.level2],this.visibleL2Y=this.isSampleMode?"166":this.bottomY[this.level2],this.visibleL1X=this.isSampleMode?"171":this.bottomRigthX[this.level1],this.visibleL1Y=this.isSampleMode?"155":this.bottomY[this.level1],this.removePastDaysTimestamp()}},f=b,x=(i("bf44"),Object(p["a"])(f,v,u,!1,null,"37f6f84a",null)),w=x.exports,C=function(){var t=this,s=t._self._c;return s("div",{staticClass:"data-report"},t._l(t.visibleInfo,(function(i,e){return s("div",{key:e,staticClass:"box"},[s("div",{staticClass:"top"},[s("span",{staticClass:"number"},[t._v(t._s(i.data))]),s("span",{staticClass:"unit"},[t._v(t._s(1==e||4==e?"%":5==e?"":"项"))])]),s("p",{staticClass:"label"},[t._v(t._s(i.text))])])})),0)},$=[],y={mixins:[n],name:"DataReport",data(){return{}},computed:{visibleInfo(){return[{text:"昨日完成待办",data:this.isSampleMode?2:this.todoNumberCompleted[7]||0},{text:"昨日完成率",data:this.isSampleMode?50:parseInt(this.todoNumberCompleted[7]/this.todoNumber[7]*100)},{text:"星标待办",data:this.isSampleMode?3:0},{text:"本周期完成待办",data:this.isSampleMode?23:this.todoTotalCompleted},{text:"本周期完成率",data:this.isSampleMode?82:parseInt(this.todoTotalCompleted/this.todoTotal*100)},{text:"",data:null}]}}},g=y,_=(i("25bd"),Object(p["a"])(g,C,$,!1,null,"21725187",null)),Y=_.exports,X={mixins:[n],name:"Dashboard",components:{TodoChart:m,AnalysisModel:w,DataReport:Y},data(){return{warningIsSHow:!0}}},L=X,S=(i("bb59"),Object(p["a"])(L,e,o,!1,null,"6a0aa0d2",null));s["default"]=S.exports},"77d7":function(t,s,i){},bb59:function(t,s,i){"use strict";i("385d")},bf44:function(t,s,i){"use strict";i("4b13")},bfcb:function(t,s,i){"use strict";i("1b24")}}]);